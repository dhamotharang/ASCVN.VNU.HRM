<div class="search-backdrop" (click)="openAdvanceSearch()"></div>
<div class="m-portlet m-portlet--mobile mb-0">
    <div class="m-portlet__head">
        <div class="m-portlet__head-caption m-portlet__head-caption-title">
            <div class="m-portlet__head-title">
                <h3 class="m-portlet__head-text">
                    {{ tabName }}
                </h3>
            </div>
        </div>
        <div class="m-portlet__head-caption"></div>

        <div class="m-portlet__head-tools">
            <ul class="m-portlet__nav"></ul>
        </div>
    </div>

    <div class="m-portlet__body">
        <div class="box-search-body px-3">
            <div>
                <div class="pt-3 row">
                    <div class="col-lg-3">
                        <div class="form-group m-form__group">
                            <label>{{ 'LB.SEARCH' | translate }}</label>
                            <div class="m-input-icon m-input-icon--left m-input-icon--right dropdown-search-advance" style="width: 100%">
                                <input
                                    type="text"
                                    class="form-control m-input"
                                    [placeholder]="'LB.SEARCH_PLACEHOLDER' | translate"
                                    [(ngModel)]="modelFilter.keyword"
                                    (keydown.enter)="onSearch()"
                                />
                                <span class="m-input-icon__icon m-input-icon__icon--left">
                                    <span>
                                        <i class="la la-search"></i>
                                    </span>
                                </span>
                                <span class="m-input-icon__icon m-input-icon__icon--right">
                                    <span (click)="openAdvanceSearch()" class="dropbtn-search-advance">
                                        <i class="la la-caret-down"></i>
                                    </span>
                                </span>
                                <div
                                    id="myDropdown"
                                    class="dropdown-content-search-advance w-200"
                                    style="left: 0px !important"
                                    [ngClass]="this.searchAdvance ? 'show-search-advance' : ''"
                                    *ngIf="openFirstTime"
                                >
                                    <div class="custom-search-advance m-form">
                                        <div class="form-group m-form__group row">
                                            <label class="col-lg-2 col-form-label"> {{ 'RECRUITMENT.HDCN.TRANG_THAI' | translate }} </label>
                                            <div class="col-lg-4">
                                                <nz-select
                                                    nzShowSearch
                                                    [nzPlaceHolder]="'LB.SELECT' | translate"
                                                    nzAllowClear
                                                    [(ngModel)]="modelFilter.idTrangThaiHopDong"
                                                >
                                                    <nz-option
                                                        [nzLabel]="'RECRUITMENT.HDCN.TAO_MOI' | translate"
                                                        [nzValue]="XacNhanHopDongTuyenDungEnum.TAO_MOI"
                                                    ></nz-option>
                                                    <nz-option
                                                        [nzLabel]="'RECRUITMENT.HDCN.GUI_XAC_NHAN' | translate"
                                                        [nzValue]="XacNhanHopDongTuyenDungEnum.GUI_XAC_NHAN"
                                                    ></nz-option>
                                                    <nz-option
                                                        [nzLabel]="'RECRUITMENT.HDCN.DUYET' | translate"
                                                        [nzValue]="XacNhanHopDongTuyenDungEnum.DUYET"
                                                    ></nz-option>
                                                    <nz-option
                                                        [nzLabel]="'RECRUITMENT.HDCN.KHONG_DUYET' | translate"
                                                        [nzValue]="XacNhanHopDongTuyenDungEnum.KHONG_DUYET"
                                                    ></nz-option>
                                                    <nz-option
                                                        [nzLabel]="'RECRUITMENT.HDCN.CHAM_DUT_HOP_DONG' | translate"
                                                        [nzValue]="XacNhanHopDongTuyenDungEnum.CHAM_DUT_HOP_DONG"
                                                    ></nz-option>
                                                </nz-select>
                                            </div>
                                            <!-- <label class="col-lg-2 col-form-label"> {{ 'RECRUITMENT.HD.TRANG_THAI' | translate }} </label>
                                            <div class="col-lg-4">
                                                <asc-select [modeOfDropDowList]="dropdownListEnum.TRANG_THAI_DANH_GIA"
                                                    [placeHolder]="'RECRUITMENT.HD.TRANG_THAI' | translate"
                                                    [(ngModel)]="modelFilter.idTrangThaiHopDong">
                                                </asc-select>
                                            </div>  -->
                                            <label class="col-lg-2 col-form-label"> {{ 'RECRUITMENT.HD.SO_QD' | translate }} </label>
                                            <div class="col-lg-4">
                                                <div>
                                                    <nz-select
                                                        [(ngModel)]="modelFilter.idQuyetDinh"
                                                        [nzPlaceHolder]="'LB.SELECT' | translate"
                                                        nzAllowClear
                                                    >
                                                        <nz-option
                                                            *ngFor="let item of lstSoQuyetDinh"
                                                            [nzValue]="item.id"
                                                            [nzLabel]="item.soQuyetDinh"
                                                        >
                                                        </nz-option>
                                                    </nz-select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group m-form__group row">
                                            <label class="col-lg-2 col-form-label">
                                                {{ 'LB.TIME' | translate }}
                                            </label>
                                            <div class="col-lg-4">
                                                <div>
                                                    <nz-date-picker
                                                        [(ngModel)]="modelFilter.ngayBatDau"
                                                        nzFormat="dd/MM/yyyy"
                                                        [nzDisabledDate]="disabledNgayBatDau"
                                                        [nzPlaceHolder]="'LB.DATE_FROM' | translate"
                                                    >
                                                    </nz-date-picker>
                                                    <label>&nbsp;</label>
                                                    <nz-date-picker
                                                        [(ngModel)]="modelFilter.ngayKetThuc"
                                                        nzFormat="dd/MM/yyyy"
                                                        [nzDisabledDate]="disabledNgayKetThuc"
                                                        [nzPlaceHolder]="'LB.DATE_TO' | translate"
                                                    ></nz-date-picker>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group m-form__group row text-right">
                                            <div class="col-12 text-right">
                                                <div class="btn-actions">
                                                    <button class="btn_custom btn_add mr-1" (click)="onSearch()">
                                                        <span class="text">
                                                            {{ 'BTN.SEARCH' | translate }}
                                                        </span>
                                                    </button>
                                                    <button class="btn_custom btn_df" (click)="onReset()">
                                                        <span class="text">
                                                            {{ 'BTN.RESET' | translate }}
                                                        </span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group m-form__group">
                            <label> {{ 'LB.YEAR' | translate }}</label>
                            <div>
                                <asc-select
                                    [modeOfDropDowList]="dropdownListEnum.NAM"
                                    [placeHolder]="'LB.SELECT' | translate"
                                    [(ngModel)]="modelFilter.nam"
                                    (ngModelChange)="changeNam()"
                                >
                                </asc-select>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group m-form__group">
                            <label> {{ 'RECRUITMENT.KE_HOACH.KHTD' | translate }} <span class="text-danger">(*)</span> </label>
                            <div>
                                <nz-select
                                    [(ngModel)]="modelFilter.idKeHoachTuyenDung"
                                    (ngModelChange)="onChangeKeHoach($event)"
                                    [nzPlaceHolder]="'LB.SELECT' | translate"
                                >
                                    <nz-option
                                        *ngFor="let item of lstDanhMucKeHoach"
                                        [nzValue]="item.id"
                                        [nzLabel]="item.maKeHoach + ' - ' + item.tenKeHoach"
                                    >
                                    </nz-option>
                                </nz-select>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 pl-0">
                        <div class="form-group m-form__group text-right">
                            <label>&nbsp;</label>
                            <div class="btn-actions">
                                <button type="submit" class="btn_custom btn_add mr-1" (click)="onSearch()">
                                    <span class="text">
                                        {{ 'BTN.SEARCH' | translate }}
                                    </span>
                                </button>
                                <button type="button" class="btn_custom btn_df" (click)="onReset()">
                                    <span class="text">
                                        {{ 'BTN.RESET' | translate }}
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-wrapper no-hover" [ngStyle]="{ 'height.px': pageHeight - 60 }">
            <kendo-grid
                [data]="data"
                [pageSize]="gridState.take"
                [skip]="gridState.skip"
                [loading]="loading"
                [pageable]="pageConfig"
                [resizable]="true"
                [columnMenu]="true"
                [sortable]="true"
                [sort]="gridState.sort"
                [style.height]="'100%'"
                kendoGridSelectBy="idNhanSu"
                [selectedKeys]="selectionIds"
                (dataStateChange)="onStateChange($event)"
                [selectable]="true"
                (detailExpand)="onExpand($event)"
            >
                <kendo-grid-checkbox-column
                    showSelectAll="true"
                    [width]="50"
                    [columnMenu]="false"
                    class="text-center"
                    [headerStyle]="{ 'text-align': 'center' }"
                >
                </kendo-grid-checkbox-column>
                <kendo-grid-column
                    [title]="'LB.ACTION' | translate"
                    class="text-center"
                    [width]="90"
                    [columnMenu]="false"
                    [headerStyle]="{ 'text-align': 'center' }"
                >
                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                        <nz-button-group>
                            <button nz-button nz-dropdown class="btn-light" [nzDropdownMenu]="menu" nzPlacement="right">
                                <div [innerHTML]="'commode1.svg' | vnuIcon | safeHtml: 'html'"></div>
                            </button>
                        </nz-button-group>
                        <nz-dropdown-menu #menu="nzDropdownMenu">
                            <div class="m-dropdown__wrapper menu-dropdown-table">
                                <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                <div class="m-dropdown__inner">
                                    <div class="m-dropdown__body">
                                        <div class="m-dropdown__content">
                                            <ul class="m-nav">
                                                <li class="m-nav__section m-nav__section--first">
                                                    <span class="m-nav__section-text">
                                                        {{ 'LB.ACTION' | translate }}
                                                    </span>
                                                </li>
                                                <li class="m-nav__item" *ngIf="roles.isUpdate">
                                                    <a href="javascript:void(0)" class="m-nav__link" (click)="editHandler(dataItem)">
                                                        <span class="m-nav__link-text" *ngIf="dataItem.idHopDong">
                                                            {{ 'RECRUITMENT.HD.CAP_NHAT_HOP_DONG' | translate }}
                                                        </span>
                                                        <span class="m-nav__link-text" *ngIf="!dataItem.idHopDong">
                                                            {{ 'RECRUITMENT.HD.TAO_MOI' | translate }}
                                                        </span>
                                                    </a>
                                                </li>

                                                <li
                                                    class="m-nav__item"
                                                    *ngIf="
                                                        roles.isUpdate &&
                                                        dataItem.idHopDong &&
                                                        dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.TAO_MOI
                                                    "
                                                >
                                                    <a
                                                        href="javascript:void(0)"
                                                        class="m-nav__link"
                                                        (click)="onDeXuatHopDong(dataItem.idHopDong)"
                                                    >
                                                        <span class="m-nav__link-text">
                                                            {{ 'RECRUITMENT.HD.GUI_CA_NHAN' | translate }}
                                                        </span>
                                                    </a>
                                                </li>
                                                <li class="m-nav__item" *ngIf="roles.isUpdate && dataItem.idHopDong">
                                                    <a href="javascript:void(0)" class="m-nav__link" (click)="viewHandler(dataItem)">
                                                        <span class="m-nav__link-text">
                                                            {{ 'RECRUITMENT.HD.XEM' | translate }}
                                                        </span>
                                                    </a>
                                                </li>
                                                <li class="m-nav__item" *ngIf="roles.isDelete && dataItem.idHopDong">
                                                    <a href="javascript:void(0)" class="m-nav__link" (click)="onHuy(dataItem.idHopDong)">
                                                        <span class="m-nav__link-text">
                                                            {{ 'RECRUITMENT.HD.HUY_HOP_DONG' | translate }}
                                                        </span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nz-dropdown-menu>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column
                    [title]="'LB.STT' | translate"
                    [width]="60"
                    [columnMenu]="false"
                    [headerStyle]="{ 'text-align': 'center' }"
                >
                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                        <div class="text-center">
                            {{ rowIndex + 1 }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column
                    field="tenTrangThaiHopDong"
                    [title]="'LB.STATUS' | translate"
                    [width]="150"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div
                            class="text-center"
                            [ngClass]="
                                dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.KHONG_DUYET ||
                                dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.CHAM_DUT_HOP_DONG
                                    ? 'label_error'
                                    : dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.DUYET
                                    ? 'label_success'
                                    : dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.DE_XUAT
                                    ? 'label_warning'
                                    : dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.TAO_MOI
                                    ? 'label_default'
                                    : ''
                            "
                        >
                            {{ dataItem.tenTrangThaiHopDong }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column [title]="'Cá nhân xác nhận' | translate" [width]="150" [columnMenu]="false"
                >
                 <ng-template kendoGridCellTemplate let-dataItem>
                     <div class="text-center" [ngClass]="dataItem.xacNhanHopDong === xacNhanHopDongEnum.KHONG_XAC_NHAN ? 'label_error'
                             : dataItem.xacNhanHopDong === xacNhanHopDongEnum.XAC_NHAN ? 'label_success'
                             : ''
                     ">
                         {{ dataItem.xacNhanHopDong == 1 ? 'Đồng ý' : (dataItem.xacNhanHopDong == 2 ? 'Không đồng ý' : '') }}
                     </div>
                 </ng-template>
             </kendo-grid-column>
                <kendo-grid-column
                    field="soHopDong"
                    [title]="'RECRUITMENT.HD.SO_HD' | translate"
                    [width]="150"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column [columnMenu]="false" field="maNhanSu" [title]="'LB.STAFF_CODE' | translate" [width]="110">
                </kendo-grid-column>
                <kendo-grid-column [columnMenu]="false" field="userName" [title]="'LB.USERNAME' | translate" [width]="130">
                </kendo-grid-column>
                <kendo-grid-column field="ten" class="text-left" [title]="'LB.FULLNAME' | translate" [width]="250" [columnMenu]="false">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div class="dark">
                            <b>{{ dataItem.hoDem + ' ' + dataItem.ten }}</b>
                        </div>
                        <div class="grid-size12">
                            {{
                                (dataItem.tenChucVu ? dataItem.tenChucVu : '') +
                                    (dataItem.tenChucVu && dataItem.tenChucDanh ? ' - ' : '') +
                                    (dataItem.tenChucDanh ? dataItem.tenChucDanh : '')
                            }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column
                    [columnMenu]="false"
                    field="idGioiTinh"
                    [title]="'LB.GENDER' | translate"
                    [width]="85"
                    class="text-center"
                >
                    <ng-template kendoGridCellTemplate let-dataItem>
                        {{ dataItem.tenGioiTinh }}
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column
                    [columnMenu]="false"
                    field="ngaySinh"
                    [title]="'LB.BIRTHDAY' | translate"
                    [width]="110"
                    class="text-center"
                >
                    <ng-template kendoGridCellTemplate let-dataItem>
                        {{ dataItem?.ngaySinh | date: 'dd/MM/yyyy' }}
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column
                    [columnMenu]="false"
                    field="tenCoQuan"
                    [title]="'LB.DEPARTMENT' | translate"
                    [width]="250"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column
                    field="tenViTriViecLam"
                    [title]="'LB.HRM.VI_TRI_TUYEN_DUNG' | translate"
                    [width]="250"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column
                    field="tenLoaiNhanSu"
                    [title]="'RECRUITMENT.HD.PHAN_LOAI' | translate"
                    [width]="250"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column
                    field="tenNgachCongChuc"
                    [title]="'LB.HRM.CHUC_DANH_NGHE_NGHIEP' | translate"
                    [width]="250"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column
                    field="tenTrinhDoChuyenMon"
                    [title]="'LB.HRM.TRINH_DO_CHUYEN_MON' | translate"
                    [width]="250"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column
                    field="soQuyetDinh"
                    [title]="'RECRUITMENT.HD.SO_QD' | translate"
                    [width]="150"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column
                    field="tenNguoiKyQuyetDinh"
                    [title]="'RECRUITMENT.HD.NGUOI_KY' | translate"
                    [width]="150"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column [title]="'RECRUITMENT.HD.NGAY_KY' | translate" [columnMenu]="false" [width]="120">
                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                        <div class="text-center">
                            {{ dataItem.ngayKyQuyetDinh | date: 'dd/MM/yyyy' }}
                        </div>
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column
                    field="tenLoaiHopDong"
                    [title]="'LB.HRM.LOAI_HOP_DONG' | translate"
                    [width]="150"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column
                    field="tenNguoiKyHopDong"
                    [title]="'RECRUITMENT.HD.NGUOI_KY' | translate"
                    [width]="150"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
                <kendo-grid-column [title]="'RECRUITMENT.HD.NGAY_KY' | translate" [columnMenu]="false" [width]="120">
                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                        <div class="text-center">
                            {{ dataItem.ngayKyHopDong | date: 'dd/MM/yyyy' }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column
                    field="ngayHopDong"
                    [title]="'RECRUITMENT.HD.NGAY_HD' | translate"
                    [width]="150"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                    <ng-template kendoGridCellTemplate let-dataItem>
                        {{ dataItem.ngayHopDong | date: 'dd/MM/yyyy' }}
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column
                    field="ghiChu"
                    [title]="'RECRUITMENT.HD.GHI_CHU' | translate"
                    [width]="150"
                    [columnMenu]="false"
                    [sortable]="false"
                >
                </kendo-grid-column>
            </kendo-grid>
        </div>
        
        <!-- <div>
            <nz-table #nestedTable [nzData]="data" [nzPageSize]="10" [nzScroll]="{ x: '1920px' }">
                <thead>
                    <tr>
                        <th nzWidth="50px" class="text-center"></th>
                        <th nzWidth="95px" class="text-center">{{ 'LB.ACTION' | translate }}</th>
                        <th nzWidth="60px" class="text-center">{{ 'LB.STT' | translate }}</th>
                        <th nzWidth="110px">{{ 'LB.STAFF_CODE' | translate }}</th>
                        <th nzWidth="120px">{{ 'LB.USERNAME' | translate }}</th>
                        <th nzWidth="170px">{{ 'LB.FULLNAME' | translate }}</th>
                        <th nzWidth="100px">{{ 'LB.GENDER' | translate }}</th>
                        <th nzWidth="110px">{{ 'LB.BIRTHDAY' | translate }}</th>
                        <th>{{ 'LB.DEPARTMENT' | translate }}</th>
                        <th nzWidth="150px">{{ 'LB.HRM.VI_TRI_TUYEN_DUNG' | translate }}</th>
                        <th>{{ 'RECRUITMENT.HD.PHAN_LOAI' | translate }}</th>
                        <th nzWidth="140px" nzRight>{{ 'LB.STATUS' | translate }}</th>
                        <th nzWidth="145px" nzRight>{{ 'Cá nhân xác nhận' | translate }}</th>
                    </tr>
                </thead>
                <tbody>
                    <ng-template ngFor let-dataItem let-index="index" [ngForOf]="nestedTable.data">
                        <tr>
                            <td [(nzExpand)]="dataItem.expand" class="text-center"></td>
                            <td class="text-center">
                                <nz-button-group>
                                    <button nz-button nz-dropdown class="btn-light" [nzDropdownMenu]="menu" nzPlacement="right">
                                        <div [innerHTML]="'commode1.svg' | vnuIcon | safeHtml: 'html'"></div>
                                    </button>
                                </nz-button-group>
                                <nz-dropdown-menu #menu="nzDropdownMenu">
                                    <div class="m-dropdown__wrapper menu-dropdown-table">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__content">
                                                    <ul class="m-nav">
                                                        <li class="m-nav__section m-nav__section--first">
                                                            <span class="m-nav__section-text">
                                                                {{ 'LB.ACTION' | translate }}
                                                            </span>
                                                        </li>
                                                        <li class="m-nav__item" *ngIf="roles.isUpdate">
                                                            <a
                                                                href="javascript:void(0)"
                                                                class="m-nav__link"
                                                                (click)="editHandler(dataItem)"
                                                            >
                                                                <span class="m-nav__link-text" *ngIf="dataItem.idHopDong">
                                                                    {{ 'RECRUITMENT.HD.CAP_NHAT_HOP_DONG' | translate }}
                                                                </span>
                                                                <span class="m-nav__link-text" *ngIf="!dataItem.idHopDong">
                                                                    {{ 'RECRUITMENT.HD.TAO_MOI' | translate }}
                                                                </span>
                                                            </a>
                                                        </li>

                                                        <li
                                                            class="m-nav__item"
                                                            *ngIf="
                                                                roles.isUpdate &&
                                                                dataItem.idHopDong &&
                                                                dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.TAO_MOI
                                                            "
                                                        >
                                                            <a
                                                                href="javascript:void(0)"
                                                                class="m-nav__link"
                                                                (click)="onDeXuatHopDong(dataItem.idHopDong)"
                                                            >
                                                                <span class="m-nav__link-text">
                                                                    {{ 'RECRUITMENT.HD.GUI_CA_NHAN' | translate }}
                                                                </span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item" *ngIf="roles.isUpdate && dataItem.idHopDong">
                                                            <a
                                                                href="javascript:void(0)"
                                                                class="m-nav__link"
                                                                (click)="viewHandler(dataItem)"
                                                            >
                                                                <span class="m-nav__link-text">
                                                                    {{ 'RECRUITMENT.HD.XEM' | translate }}
                                                                </span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item" *ngIf="roles.isDelete && dataItem.idHopDong">
                                                            <a
                                                                href="javascript:void(0)"
                                                                class="m-nav__link"
                                                                (click)="onHuy(dataItem.idHopDong)"
                                                            >
                                                                <span class="m-nav__link-text">
                                                                    {{ 'RECRUITMENT.HD.HUY_HOP_DONG' | translate }}
                                                                </span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </nz-dropdown-menu>
                            </td>
                            <td class="text-center">{{ index + 1 }}</td>
                            <td>{{ dataItem.soHopDong }}</td>
                            <td>{{ dataItem.maNhanSu }}</td>
                            <td>
                                <div class="dark">
                                    <b>{{ dataItem.hoDem + ' ' + dataItem.ten }}</b>
                                </div>
                                <div class="grid-size12">
                                    {{
                                        (dataItem.tenChucVu ? dataItem.tenChucVu : '') +
                                            (dataItem.tenChucVu && dataItem.tenChucDanh ? ' - ' : '') +
                                            (dataItem.tenChucDanh ? dataItem.tenChucDanh : '')
                                    }}
                                </div>
                            </td>
                            <td>
                                {{ dataItem.tenGioiTinh }}
                            </td>
                            <td>
                                {{ dataItem?.ngaySinh | date: 'dd/MM/yyyy' }}
                            </td>
                            <td>{{ dataItem.tenCoQuan }}</td>
                            <td>{{ dataItem.tenViTriViecLam }}</td>
                            <td>{{ dataItem.tenLoaiNhanSu }}</td>
                            <td nzRight>
                                <div
                                    class="text-center"
                                    [ngClass]="
                                        dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.KHONG_DUYET ||
                                        dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.CHAM_DUT_HOP_DONG
                                            ? 'label_error'
                                            : dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.DUYET
                                            ? 'label_success'
                                            : dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.DE_XUAT
                                            ? 'label_warning'
                                            : dataItem.idTrangThaiHopDong === trangThaiHopDongEnum.TAO_MOI
                                            ? 'label_default'
                                            : ''
                                    "
                                >
                                    {{ dataItem.tenTrangThaiHopDong }}
                                </div>
                            </td>
                            <td nzRight>
                                <div
                                    class="text-center"
                                    [ngClass]="
                                        dataItem.xacNhanHopDong === xacNhanHopDongEnum.KHONG_XAC_NHAN
                                            ? 'label_error'
                                            : dataItem.xacNhanHopDong === xacNhanHopDongEnum.XAC_NHAN
                                            ? 'label_success'
                                            : ''
                                    "
                                >
                                    {{ dataItem.xacNhanHopDong == 1 ? 'Đồng ý' : dataItem.xacNhanHopDong == 1 ? 'Không đồng ý' : '' }}
                                </div>
                            </td>
                        </tr>
                        <tr [nzExpand]="dataItem.expand">
                            <nz-table #innerTable [nzShowPagination]="false" [nzData]="[dataItem]">
                                <thead>
                                    <tr>
                                        <th nzWidth="200px">{{ 'LB.HRM.CHUC_DANH_NGHE_NGHIEP' | translate }}</th>
                                        <th nzWidth="200px">{{ 'LB.HRM.TRINH_DO_CHUYEN_MON' | translate }}</th>
                                        <th nzWidth="150px">{{ 'RECRUITMENT.HD.SO_QD' | translate }}</th>
                                        <th nzWidth="150px">{{ 'RECRUITMENT.HD.NGUOI_KY' | translate }}</th>
                                        <th nzWidth="120px">{{ 'RECRUITMENT.HD.NGAY_KY' | translate }}</th>
                                        <th nzWidth="200px">{{ 'LB.HRM.LOAI_HOP_DONG' | translate }}</th>
                                        <th nzWidth="150px">{{ 'RECRUITMENT.HD.NGUOI_KY' | translate }}</th>
                                        <th nzWidth="150px">{{ 'RECRUITMENT.HD.NGAY_KY' | translate }}</th>
                                        <th nzWidth="150px">{{ 'RECRUITMENT.HD.NGAY_HD' | translate }}</th>
                                        <th>{{ 'RECRUITMENT.HD.GHI_CHU' | translate }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>{{ dataItem.tenNgachCongChuc }}</td>
                                        <td>{{ dataItem.tenTrinhDoChuyenMon }}</td>
                                        <td>{{ dataItem.soQuyetDinh }}</td>
                                        <td>{{ dataItem.tenNguoiKyQuyetDinh }}</td>
                                        <td>{{ dataItem.ngayKyQuyetDinh | date: 'dd/MM/yyyy' }}</td>
                                        <td>{{ dataItem.tenLoaiHopDong }}</td>
                                        <td>{{ dataItem.tenNguoiKyHopDong }}</td>
                                        <td>
                                            <div class="text-center">
                                                {{ dataItem.ngayKyHopDong | date: 'dd/MM/yyyy' }}
                                            </div>
                                        </td>
                                        <td>
                                            <ng-template kendoGridCellTemplate let-dataItem>
                                                {{ dataItem.ngayHopDong | date: 'dd/MM/yyyy' }}
                                            </ng-template>
                                        </td>
                                        <td>{{ dataItem.ghiChu }}</td>
                                    </tr>
                                </tbody>
                            </nz-table>
                        </tr>
                    </ng-template>
                </tbody>
            </nz-table>
        </div> -->
    </div>
</div>

<div class="k-overlay" *ngIf="opened"></div>
<div class="wrapper form-layouts">
    <div kendoWindowContainer></div>
</div>
