<form class="m-form" novalidate [formGroup]="form" (ngSubmit)="onSubmit()">
    <nz-tabset>
        <nz-tab [nzTitle]="'RECRUITMENT.TAP_SU.THONG_TIN_QUYET_DINH' | translate">
            <div class="row">
                <div class="col-sm-12 d-flex">
                    <div class="mr-5">
                        <label class="col-form-label lb-bold-info mr-2">
                            {{ 'LB.NGUOI_TAP_SU' | translate }}
                            <span class="float-right">:</span>
                        </label>
                        <label class="col-form-label lb-bold-info bolder">
                            <ng-container>{{ tenNhanSuTapSu }}</ng-container>
                        </label>
                    </div>
                    <div class="ml-5">
                        <label class="col-form-label lb-bold-info mr-2">
                            {{ 'LB.HRM.VI_TRI_VIEC_LAM' | translate }}
                            <span class="float-right">:</span>
                        </label>
                        <label class="col-form-label lb-bold-info bolder">
                            <ng-container>{{ tenViTriViecLam }}</ng-container>
                        </label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.SO_QUYET_DINH' | translate }}</label>
                        <input
                            type="text"
                            class="m-input form-control"
                            formControlName="soQuyetDinh"
                            [readOnly]="action === isAction.VIEW"
                        />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.NGAY_QUYET_DINH' | translate }}</label>
                        <div>
                            <nz-date-picker
                                nzFormat="dd/MM/yyyy"
                                formControlName="ngayQuyetDinh"
                                style="width: 100%"
                                [nzDisabled]="action === isAction.VIEW"
                            >
                            </nz-date-picker>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.NGAY_HIEU_LUC' | translate }}</label>
                        <div>
                            <nz-date-picker
                                nzFormat="dd/MM/yyyy"
                                formControlName="ngayHieuLuc"
                                style="width: 100%"
                                [nzDisabled]="action === isAction.VIEW"
                            >
                            </nz-date-picker>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.NGUOI_HUONG_DAN' | translate }} </label>
                        <widget-select-user-for-filter
                            [userSelectedIds]="chonNhanSu"
                            [placeholder]="'LB.SELECT' | translate"
                            formControlName="idNhanSuNhanQuyetDinh"
                            [disabled]="action === isAction.VIEW"
                            (listItems)="changeNguoiHuongDan($event)"
                            [coQuanId]="idCoQuanCap1"
                        >
                        </widget-select-user-for-filter>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.NGUOI_XET_DUYET' | translate }}</label>
                        <widget-select-user-for-filter
                            [placeholder]="'LB.SELECT' | translate"
                            [userSelectedIds]="chonNguoiXetDuyet"
                            formControlName="idNguoiXetDuyet"
                            [disabled]="action === isAction.VIEW"
                            [coQuanId]="idCoQuanCap1"
                        >
                        </widget-select-user-for-filter>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.HUONG_HE_SO_TRACH_NHIEM' | translate }}</label>
                        <nz-input-number
                            formControlName="heSoTrachNhiem"
                            style="width: 100%"
                            [nzInputMode]="'decimal'"
                            [nzDisabled]="action === isAction.VIEW"
                            [nzStep]="0.1"
                        ></nz-input-number>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.HIEN_LA' | translate }}</label>
                        <input [readOnly]="true" type="text" class="m-input form-control" formControlName="hienLa" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.TRINH_DO_CHUYEN_MON' | translate }}</label>
                        <input [readOnly]="true" type="text" class="m-input form-control" formControlName="trinhDoChuyenMon" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.MA_SO_CHUC_DANH_NGHE_NGHIEP' | translate }}</label>
                        <input [readOnly]="true" type="text" class="m-input form-control" formControlName="maSoChucDanhNgheNghiep" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.HE_SO_LUONG' | translate }}</label>
                        <input [readOnly]="true" type="text" class="m-input form-control" formControlName="heSoLuong" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.THOI_GIAN_TAP_SU' | translate }} </label>
                        <div>
                            <div class="d-flex row">
                                <div class="col-6">
                                    <nz-date-picker
                                        formControlName="tapSuTuNgay"
                                        nzFormat="dd/MM/yyyy"
                                        [nzPlaceHolder]="'LB.DATE_FROM' | translate"
                                        style="width: 100%"
                                        [nzDisabled]="action === isAction.VIEW"
                                        [nzDisabledDate]="disabledTapSuNgayBatDau"
                                    >
                                    </nz-date-picker>
                                </div>
                                <div class="col-6">
                                    <nz-date-picker
                                        formControlName="tapSuDenNgay"
                                        nzFormat="dd/MM/yyyy"
                                        [nzPlaceHolder]="'LB.DATE_TO' | translate"
                                        style="width: 100%"
                                        [nzDisabled]="action === isAction.VIEW"
                                        [nzDisabledDate]="disabledTapSuNgayKetThuc"
                                    >
                                    </nz-date-picker>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.QUYET_DINH.THOI_GIAN_NOP_BAO_CAO' | translate }}</label>
                        <div>
                            <div class="d-flex row">
                                <div class="col-6">
                                    <nz-date-picker
                                        [nzDisabledDate]="disabledBaoCaoNgayBatDau"
                                        formControlName="nopBaoCaoTuNgay"
                                        nzFormat="dd/MM/yyyy"
                                        style="width: 100%"
                                        [nzDisabled]="action === isAction.VIEW"
                                        [nzPlaceHolder]="'LB.DATE_FROM' | translate"
                                    >
                                    </nz-date-picker>
                                </div>
                                <div class="col-6">
                                    <nz-date-picker
                                        [nzDisabledDate]="disabledBaoCaoNgayKetThuc"
                                        formControlName="nopBaoCaoDenNgay"
                                        nzFormat="dd/MM/yyyy"
                                        style="width: 100%"
                                        [nzDisabled]="action === isAction.VIEW"
                                        [nzPlaceHolder]="'LB.DATE_TO' | translate"
                                    ></nz-date-picker>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="form-group m-form__group">
                        <label> {{ 'LB.NOTE' | translate }} </label>
                        <textarea class="m-input form-control" formControlName="ghiChu" rows="4" [readOnly]="action === isAction.VIEW">
                        </textarea>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="form-group m-form__group">
                        <label>
                            {{ 'LB.ATTACH_FILE' | translate }}
                        </label>
                        <asc-upload
                            (fileInput)="onSelectFile($event)"
                            [file]="fileInput$ | async"
                            [folderName]="folder.TS_PhanCongHuongDanTapSu"
                            [multiple]="false"
                        >
                        </asc-upload>
                    </div>
                </div>
            </div>
        </nz-tab>
    </nz-tabset>
    <div class="text-right border-form-footer">
        <button type="button" (click)="closeForm()" class="btn_custom btn_df mr-1">{{ 'BTN.CANCEL' | translate }}</button>
        <button type="submit" class="btn_custom btn_add" *ngIf="action !== isAction.VIEW">{{ 'BTN.SAVE' | translate }}</button>
    </div>
</form>
