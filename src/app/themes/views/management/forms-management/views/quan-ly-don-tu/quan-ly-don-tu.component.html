<div class="search-backdrop permissions" (click)="openAdvanceSearch()"></div>
<div class="m-portlet m-portlet--mobile ql-don-tu mb-0">
    <div class="m-portlet__head">
        <div class="m-portlet__head-caption m-portlet__head-caption-title">
            <div class="m-portlet__head-title">
                <h3 class="m-portlet__head-text">
                    {{ tabName }}
                </h3>
            </div>
        </div>
        <div class="m-portlet__head-caption"></div>
        <div class="m-portlet__head-tools">
            <ul class="m-portlet__nav">
                <li class="m-portlet__nav-item">
                    <nz-button-group>
                        <button nz-button nz-dropdown class="btn_custom btn_add mr-2" [nzDropdownMenu]="menu" nzPlacement="right">
                            <span class="text">{{ 'FM.BTN.TAO_DON_MOI' | translate }}</span>
                            <i nz-icon nzType="down" nzTheme="outline"></i>
                        </button>
                    </nz-button-group>
                    <nz-dropdown-menu #menu="nzDropdownMenu">
                        <div class="m-dropdown__wrapper menu-dropdown-table">
                            <div class="m-dropdown__inner">
                                <div class="m-dropdown__body">
                                    <div class="m-dropdown__content">
                                        <ul class="m-nav">
                                            <li class="m-nav__item">
                                                <a href="javascript:void(0)" class="m-nav__link">
                                                    <span class="m-nav__link-text">
                                                        {{ 'FM.LABEL.DON_XIN_NGHI_PHEP' | translate }}
                                                    </span>
                                                </a>
                                            </li>
                                            <li class="m-nav__item">
                                                <a href="javascript:void(0)" class="m-nav__link">
                                                    <span class="m-nav__link-text">
                                                        {{ 'FM.LABEL.DON_XIN_NGHI_HUU' | translate }}
                                                    </span>
                                                </a>
                                            </li>
                                            <li class="m-nav__item">
                                                <a (click)="taoDon()" href="javascript:void(0)" class="m-nav__link">
                                                    <span class="m-nav__link-text">
                                                        {{ 'FM.LABEL.DON_XIN_CHAM_DUT_HDLD' | translate }}
                                                    </span>
                                                </a>
                                            </li>
                                            <li class="m-nav__item">
                                                <a href="javascript:void(0)" class="m-nav__link">
                                                    <span class="m-nav__link-text">
                                                        {{ 'FM.LABEL.DON_XIN_NGHI_OM' | translate }}
                                                    </span>
                                                </a>
                                            </li>
                                            <li class="m-nav__item">
                                                <a href="javascript:void(0)" class="m-nav__link">
                                                    <span class="m-nav__link-text">
                                                        {{ 'FM.LABEL.DON_XIN_THAM_THAN' | translate }}
                                                    </span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </nz-dropdown-menu>
                </li>
            </ul>
        </div>
    </div>
    <div class="m-portlet__body">
        <div class="row">
            <div class="col-6">
                <div class="info-group p-3">
                    <span class="info">{{ 'FM.LABEL.DON_XIN_NGHI_PHEP' | translate }}&nbsp;<span class="amount">(2)</span> </span>
                    <span class="info">{{ 'FM.LABEL.DON_XIN_NGHI_HUU' | translate }}&nbsp;<span class="amount">(2)</span> </span>
                    <span class="info">{{ 'FM.LABEL.DON_XIN_NGHI_OM' | translate }}&nbsp;<span class="amount">(2)</span> </span>
                    <span class="info">{{ 'FM.LABEL.DON_XIN_CHAM_DUT_HDLD' | translate }}&nbsp;<span class="amount">(2)</span> </span>
                    <span class="info">{{ 'FM.LABEL.DON_XIN_THAM_THAN' | translate }}&nbsp;<span class="amount">(2)</span> </span>
                </div>
                <div class="form-search pb-3">
                    <div class="col-2"></div>
                    <div class="col-8">
                        <div class="m-input-icon m-input-icon--left m-input-icon--right" [formGroup]="myGroup">
                            <input
                                type="text"
                                class="form-control m-input"
                                [placeholder]="'LB.SEARCH_PLACEHOLDER' | translate"
                                formControlName="keywordControl"
                            />
                            <span class="m-input-icon__icon m-input-icon__icon--left">
                                <span>
                                    <i class="la la-search"></i>
                                </span>
                            </span>
                            <span class="m-input-icon__icon m-input-icon__icon--right">
                                <span (click)="openAdvanceSearch()" class="dropbtn-search-advance">
                                    <i class="la la-caret-down"></i>
                                </span>
                            </span>
                            <div
                                id="myDropdown"
                                class="dropdown-content-search-advance w-180"
                                [ngClass]="this.searchAdvance ? 'show-search-advance' : ''"
                                *ngIf="openFirstTime"
                            >
                                <app-bo-loc-don [keyWord]="keyword" (itemFilter)="handlerItemFilter($event)" [idLoaiDon]="loaiDonSelected"></app-bo-loc-don>
                            </div>
                        </div>
                    </div>
                    <div class="col-2"></div>
                </div>
            </div>
            <div class="col-6 btn-group p-3">
                <ng-container *ngIf="loaiDonSelected == cacLoaiDonEnum.DON_DA_NHAN || loaiDonSelected === cacLoaiDonEnum.DON_DA_GUI">
                    <div class="btn-option">
                        <button class="btn_custom btn_df mr-1">
                            <span class="text">
                                {{ 'FM.BTN.IN_DON' | translate }}
                            </span>
                        </button>
                    </div>
                    <div class="btn-option">
                        <button class="btn_custom btn_df mr-1">
                            <span class="text">
                                {{ 'FM.BTN.IN_QUYET_DINH' | translate }}
                            </span>
                        </button>
                    </div>
                    <ng-container *ngIf="loaiDonSelected === cacLoaiDonEnum.DON_DA_NHAN">
                        <div class="btn-option">
                            <button class="btn_custom btn_add mr-1" (click)="suaQuyetDinh()">
                                <span class="text">
                                    {{ 'FM.BTN.TRINH_CAP_TREN' | translate }}
                                </span>
                            </button>
                        </div>
                        <div class="btn-option">
                            <button class="btn_custom btn_pink mr-1" (click)="nhapYKien()">
                                <span class="text">
                                    {{ 'FM.BTN.NHAP_Y_KIEN' | translate }}
                                </span>
                            </button>
                        </div>
                        <div class="btn-option">
                            <button class="btn_custom btn_update mr-1" (click)="xinYKien()">
                                <span class="text">
                                    {{ 'FM.BTN.XIN_Y_KIEN' | translate }}
                                </span>
                            </button>
                        </div>
                        <div class="btn-option">
                            <button class="btn_custom btn_blue mr-1" (click)="duyetDonChamDutHDLD()">
                                <span class="text">
                                    {{ 'FM.BTN.DUYET_KHONG_DUYET' | translate }}
                                </span>
                            </button>
                        </div>
                    </ng-container>
                </ng-container>
                <ng-container *ngIf="loaiDonSelected === cacLoaiDonEnum.DON_NHAP">
                    <div class="btn-option">
                        <button class="btn_custom btn_df mr-1">
                            <span class="text">
                                {{ 'FM.BTN.CHINH_SUA' | translate }}
                            </span>
                        </button>
                    </div>
                    <div class="btn-option">
                        <button class="btn_custom btn_df mr-1">
                            <span class="text">
                                {{ 'FM.BTN.GUI_DON' | translate }}
                            </span>
                        </button>
                    </div>
                </ng-container>
            </div>
        </div>
        <div class="row px-2">
            <div class="col-6">
                <div>
                    <nz-tabset nzType="card" (nzSelectedIndexChange)="changeTabsGrid($event)">
                        <nz-tab [nzTitle]="'FM.LABEL.DON_DA_NHAN' | translate">
                            <ng-container *ngIf="loaiDonSelected === cacLoaiDonEnum.DON_DA_NHAN">
                                <app-danh-sach-don
                                    [idLoaiDon]="loaiDonSelected"
                                    (itemDonTu)="handlerItemDonTu($event)"
                                    [filter]="itemFilter"
                                ></app-danh-sach-don>
                            </ng-container>
                        </nz-tab>
                        <nz-tab [nzTitle]="'FM.LABEL.DON_DA_GUI' | translate">
                            <ng-container *ngIf="loaiDonSelected === cacLoaiDonEnum.DON_DA_GUI">
                                <app-danh-sach-don
                                    [idLoaiDon]="loaiDonSelected"
                                    (itemDonTu)="handlerItemDonTu($event)"
                                    [filter]="itemFilter"
                                ></app-danh-sach-don>
                            </ng-container>
                        </nz-tab>
                        <nz-tab [nzTitle]="'FM.LABEL.DON_NHAP' | translate">
                            <ng-container>
                                <ng-container *ngIf="loaiDonSelected === cacLoaiDonEnum.DON_NHAP">
                                    <app-danh-sach-don
                                        [idLoaiDon]="loaiDonSelected"
                                        (itemDonTu)="handlerItemDonTu($event)"
                                        [filter]="itemFilter"
                                    ></app-danh-sach-don>
                                </ng-container>
                            </ng-container>
                        </nz-tab>
                    </nz-tabset>
                </div>
            </div>
            <div class="col-6 right-content">
                <div>
                    <nz-tabset nzType="card">
                        <nz-tab [nzTitle]="'FM.LABEL.THONG_TIN_DON' | translate">
                            <app-thong-tin-don [itemDonSelected]="itemDonSelected" [loaiDonSelected]="loaiDonSelected"></app-thong-tin-don>
                        </nz-tab>
                        <nz-tab *ngIf="loaiDonSelected !== cacLoaiDonEnum.DON_NHAP" [nzTitle]="'FM.LABEL.NHAT_KY' | translate">
                            <app-nhat-ky [itemDonSelected]="itemDonSelected" [loaiDonSelected]="loaiDonSelected"></app-nhat-ky>
                        </nz-tab>
                        <nz-tab
                            *ngIf="idPhanLoaiDonSelected === phanLoaiDonEnum.CHAM_DUT_HDLD"
                            [nzTitle]="'FM.LABEL.QUYET_DINH_CHAM_DUT_HDLD' | translate"
                        >
                            <app-quyet-dinh-cham-dut-hd-lao-dong></app-quyet-dinh-cham-dut-hd-lao-dong>
                        </nz-tab>
                    </nz-tabset>
                </div>
            </div>
        </div>
        <div class="k-overlay" *ngIf="opened"></div>
        <div class="wrapper form-layouts">
            <div kendoWindowContainer></div>
        </div>
    </div>
</div>
